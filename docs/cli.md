# wgx CLI Reference

> Generated by `scripts/gen-cli-docs.sh`. Do not edit manually.

## Global usage

```text
wgx — Workspace Helper

Usage:
  wgx <command> [args]

Commands:
  audit
  clean
  config
  doctor
  env
  guard
  heal
  help
  hooks
  init
  integrity
  lint
  quick
  release
  reload
  routine
  run
  selftest
  send
  setup
  start
  status
  sync-remote
  task
  tasks
  test
  validate
  version

Env:
  WGX_BASE       Basis-Branch für reload (default: main)

More:
  wgx --list     Nur verfügbare Befehle anzeigen
```

## Commands

### audit

```text
Usage:
  wgx audit verify [--strict]
  wgx audit git

Verwaltet das Audit-Ledger von wgx und führt Audits aus.
```

### clean

```text
Usage:
  wgx clean [--safe] [--build] [--git] [--deep] [--dry-run] [--force]

Options:
  --safe       Entfernt temporäre Cache-Verzeichnisse (Standard).
  --build      Löscht Build-Artefakte (dist, build, target, ...).
  --git        Räumt gemergte Branches und Remote-Referenzen auf (nur sauberer Git-Tree).
  --deep       Führt ein destruktives `git clean -xfd` aus (erfordert --force, nur sauberer Git-Tree).
  --dry-run    Zeigt nur an, was passieren würde.
  --force      Bestätigt destruktive Operationen (für --deep).
• Nichts zu tun.
```

### config

```text
Usage:
  wgx config [show]
  wgx config set <KEY>=<VALUE>

Description:
  Zeigt die aktuelle Konfiguration an oder setzt einen Wert in der
  '.wgx.conf'-Datei.
  Die Implementierung dieses Befehls ist noch in Arbeit.

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### doctor

```text
Usage:
  wgx doctor

Description:
  Führt eine grundlegende Diagnose des Repositorys und der Umgebung durch.
  Prüft, ob 'git' installiert ist, ob der Befehl innerhalb eines Git-Worktrees
  ausgeführt wird und ob ein 'origin'-Remote konfiguriert ist.

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### env

```text
Usage: wgx env doctor [--fix] [--strict] [--json]
  doctor     Inspect the local environment (default)
  --fix      Apply recommended platform specific tweaks (Termux only)
  --strict   Exit non-zero if essential tools are missing (e.g., git)
  --json     Machine-readable output (minimal JSON)
```

### guard

```text
Usage:
  wgx guard [--lint] [--test] [--only <guard_name>]

Description:
  Führt eine Reihe von Sicherheits- und Qualitätsprüfungen für das Repository aus.
  Dies ist ein Sicherheitsnetz, das vor dem Erstellen eines Pull Requests ausgeführt wird.
  Standardmäßig werden sowohl Linting als auch Tests ausgeführt.

Checks:
  - Prüft auf das Vorhandensein eines .wgx/profile.yml.
  - Sucht nach verbleibenden Konfliktmarkern im Code.
  - Prüft auf übergroße Dateien (>= 1MB, konfigurierbar via WGX_GUARD_MAX_BYTES).
  - Führt 'wgx lint' aus (falls --lint angegeben oder Standard).
  - Führt 'wgx test' aus (falls --test angegeben oder Standard).

Options:
  --lint        Nur die Linting-Prüfungen ausführen.
  --test        Nur die Test-Prüfungen ausführen.
  --only        Nur einen spezifischen Guard ausführen.
                Erlaubte Werte: profile, filesize, conflict, ci_deps, contracts_ownership, contracts_meta, insights,
                integrity, data_flow.
  -h, --help    Diese Hilfe anzeigen.
```

### heal

```text
Usage:
  wgx heal [rebase|ours|theirs|ff-only] [--stash] [--continue] [--abort] [--base <branch>]

Description:
  Löst Konflikte oder führt ein Rebase auf den Basis-Branch durch.

Modes:
  rebase      Rebase auf origin/$WGX_BASE (Standard)
  ours        Merge mit --ours Strategie
  theirs      Merge mit --theirs Strategie
  ff-only     Fast-Forward only Merge

Options:
  --stash       Vor dem Heal einen Snapshot (Stash) erstellen
  --continue    Laufenden Rebase fortsetzen
  --abort       Laufenden Rebase/Merge abbrechen
  --base <b>    Alternativen Basis-Branch verwenden
  -h, --help    Diese Hilfe anzeigen
```

### help

```text
wgx — Workspace Helper

Usage:
  wgx <command> [args]

Commands:
  audit
  clean
  config
  doctor
  env
  guard
  heal
  help
  hooks
  init
  integrity
  lint
  quick
  release
  reload
  routine
  run
  selftest
  send
  setup
  start
  status
  sync-remote
  task
  tasks
  test
  validate
  version

Env:
  WGX_BASE       Basis-Branch für reload (default: main)

More:
  wgx --list     Nur verfügbare Befehle anzeigen
```

### hooks

```text
Usage:
  wgx hooks [install]

Description:
  Verwaltet die Git-Hooks für das Repository.
  Die vollständige Implementierung dieses Befehls ist noch in Arbeit.
  Aktuell ist nur die 'install'-Aktion geplant.
  Für Details, siehe 'docs/Command-Reference.de.md'.

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### init

```text
Usage:
  wgx init [--wizard]

Description:
  Initialisiert die 'wgx'-Konfiguration im Repository. Mit `--wizard` wird
  ein interaktiver Assistent gestartet, der `.wgx/profile.yml` erstellt.

Options:
  --wizard      Interaktiven Profil-Wizard starten.
  -h, --help    Diese Hilfe anzeigen.
```

### integrity

```text
Usage: wgx integrity [options]

Options:
  --update, -u    Erzeugt/Aktualisiert den Integritätsbericht.
  --publish, -p   Gibt ein Event-JSON (integrity.summary.published.v1) aus.
  --help, -h      Zeigt diese Hilfe.

Standard: Liest reports/integrity/summary.json und zeigt Status an.
```

### lint

```text
Usage:
  wgx lint

Description:
  Führt Linting-Prüfungen für verschiedene Dateitypen im Repository aus.
  Dies umfasst Shell-Skripte (Syntax-Prüfung mit bash -n, Formatierung mit shfmt,
  statische Analyse mit shellcheck) und potenziell weitere linter.

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### quick

```text
Usage: wgx quick [-i|--interactive] [--help]

Run repository guards (lint + tests) and open the PR/MR helper.

Options:
  -i, --interactive  Open the PR body in $EDITOR before sending
  -h, --help         Show this help message
```

### release

```text
Usage:
  wgx release [--version <tag>] [--auto-version <bump>] [...]

Description:
  Erstellt SemVer-Tags und GitHub/GitLab-Releases.
  Die vollständige Implementierung dieses Befehls ist noch in Arbeit.
  Für eine detaillierte Beschreibung der geplanten Funktionalität,
  siehe 'docs/Command-Reference.de.md'.

Options:
  --version <tag>    Die genaue Version für das Release (z.B. v1.2.3).
  --auto-version     Erhöht die Version automatisch (patch, minor, major).
  -h, --help         Diese Hilfe anzeigen.
```

### reload

```text
Usage:
  wgx reload [--force] [--dry-run] [--snapshot]

Description:
  Setzt das Arbeitsverzeichnis hart auf den Stand des Upstream-Branches zurück.
  WARNUNG: Alle lokalen Änderungen, auch ungetrackte Dateien, gehen verloren.

Options:
  --force       Führt den Reset auch bei ungespeicherten Änderungen aus.
  --dry-run     Zeigt nur an, was getan würde, ohne Änderungen vorzunehmen.
  --snapshot    Erstellt vorher einen Git-Stash als Sicherheitskopie.
  -h, --help    Diese Hilfe anzeigen.
```

### routine

```text
Usage:
  wgx routine <routine_id> [preview|apply]

Available routines:
  git.repair.remote-head
```

### run

```text
Usage:
  wgx run <task> [args...]

Description:
  Führt einen definierten Task aus der .wgx/profile.yml Konfiguration aus.
  Argumente nach dem Task-Namen werden an den Task weitergegeben.
  Verwendet '--', um Argumente explizit vom Task zu trennen.

Options:
  -h, --help    Diese Hilfe anzeigen.
  -n, --dry-run Zeigt an, was ausgeführt würde, ohne es zu tun.

Note:
  Unbekannte Optionen werden von wgx run abgelehnt.

Examples:
  wgx run test
  wgx run lint -- --fix
  wgx run --dry-run deploy
```

### selftest

```text
Usage:
  wgx selftest

Description:
  Führt einen Mini-Sanity-Check für die 'wgx'-CLI und ihre Umgebung durch.
  Prüft, ob 'wgx' ausführbar ist, ob die Version abgerufen werden kann und
  ob kritische Abhängigkeiten wie 'git' und 'jq' verfügbar sind.

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### send

```text
Usage:
  wgx send [options]

Description:
  Führt Guard-Checks aus, synchronisiert mit Remote und erstellt einen PR/MR.

Options:
  --draft           PR als Draft erstellen
  -i, --interactive PR-Body im Editor bearbeiten
  --title <text>    PR-Titel überschreiben
  --why <text>      Begründung für den PR
  --tests <text>    Beschreibung der durchgeführten Tests
  --notes <text>    Zusätzliche Notizen
  --label <name>    Label hinzufügen (mehrfach möglich)
  --issue <num>     Issue-Nummer verknüpfen
  --reviewers <u>   Reviewer zuweisen (kommasepariert oder 'auto')
  --scope <scope>   Scope überschreiben (auto|web|api|infra|devx|docs|meta|repo)
  --sign            Commits signieren
  --base <branch>   Basis-Branch überschreiben
  --ci              CI-Workflow triggern (falls WGX_CI_WORKFLOW gesetzt)
  --open            PR nach Erstellung im Browser öffnen
  --auto-branch     Automatisch Branch erstellen, wenn auf Base
  -h, --help        Diese Hilfe anzeigen
```

### setup

```text
Usage:
  wgx setup

Description:
  Hilft bei der Erstinstallation von 'wgx' und seinen Abhängigkeiten,
  insbesondere in Umgebungen wie Termux.
  Prüft auf das Vorhandensein von Kernpaketen (git, gh, glab, jq, etc.)
  und gibt Hinweise zur Installation.
  Die vollständige Implementierung dieses Befehls ist noch in Arbeit.

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### start

```text
Usage:
  wgx start <branch_name>

Description:
  Erstellt einen neuen Feature-Branch nach einem validierten Schema.
  Der Name wird normalisiert (Sonderzeichen entfernt, etc.) und optional
  mit einer Issue-Nummer versehen.
  Die vollständige Implementierung dieses Befehls ist noch in Arbeit.

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### status

```text
Usage:
  wgx status

Description:
  Zeigt einen kompakten Snapshot des Repository-Status an.
  Dies umfasst den aktuellen Branch, den Ahead/Behind-Status im Vergleich zum
  Upstream-Branch, erkannte Projektverzeichnisse (Web, API, etc.) und
  globale Flags wie den OFFLINE-Modus.

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### sync-remote

```text
Usage:
  wgx reload [--force] [--dry-run] [--snapshot]

Description:
  Setzt das Arbeitsverzeichnis hart auf den Stand des Upstream-Branches zurück.
  WARNUNG: Alle lokalen Änderungen, auch ungetrackte Dateien, gehen verloren.

Options:
  --force       Führt den Reset auch bei ungespeicherten Änderungen aus.
  --dry-run     Zeigt nur an, was getan würde, ohne Änderungen vorzunehmen.
  --snapshot    Erstellt vorher einen Git-Stash als Sicherheitskopie.
  -h, --help    Diese Hilfe anzeigen.
```

### task

```text
Usage:
  wgx task <name> [--] [args...]

Description:
  Führt einen Task aus, der in der '.wgx/profile.yml'-Datei des Repositorys
  definiert ist. Alle Argumente nach dem Task-Namen (und einem optionalen '--')
  werden an den Task weitergegeben.

Example:
  wgx task test -- --verbose

Options:
  -h, --help    Diese Hilfe anzeigen.
```

### tasks

```text
Usage: wgx tasks [--json] [--safe] [--groups]
  --json    Output machine readable JSON
  --safe    Only include tasks marked as safe
  --groups  Include group metadata (JSON) or group headings (text)
```

### test

```text
Usage:
  wgx test [--list] [--] [BATS_ARGS...]
  wgx test --help

Runs the Bats test suite located under tests/.

Options:
  --list        Show discovered *.bats files without executing them.
  --help        Display this help text.
  --            Forward all following arguments directly to bats.

Examples:
  wgx test                 # run all Bats suites
  wgx test -- --filter foo # pass custom flags to bats
  wgx test --list          # list available test files
```

### validate

```text
Usage:
  wgx validate [--json]

Validiert das Manifest (.wgx/profile.*) im aktuellen Repository.
Exit-Status: 0 bei gültigem Manifest, sonst >0.

Optionen:
  --json   Kompakte maschinenlesbare Ausgabe:
           {"ok":bool,"errors":[...],"missingCapabilities":[...]}
```

### version

```text
Usage:
  wgx version
  wgx version bump <level>
  wgx version set <version>

Description:
  Reads or modifies the project version.
  Supported files: VERSION, package.json, Cargo.toml.

Subcommands:
  (none)         Show current version.
  bump <level>   Bump version (patch, minor, major).
  set <version>  Set exact version.

Options:
  -h, --help     Show this help.
```
