ai_context_version: 1.0

project:
  name: semantah
  summary: Semantic ingest/index & retrieval services.
  role: knowledge_index_retrieval
  primary_language: python
  visibility: internal

dependencies:
  internal:
    - name: metarepo
      relationship: uses
      interface:
        - knowledge_exports
    - name: contracts
      relationship: uses
      interface:
        - knowledge_graph_schemas
    - name: vault-gewebe
      relationship: uses
      interface:
        - document_exports
        - embeddings_source
  external:
    - name: fastapi
    - name: uvicorn
    - name: faiss

architecture:
  entrypoints:
    - src/main.py
  key_paths:
    - path: src/ingest/
      purpose: document/code ingest
    - path: src/search/
      purpose: semantic search APIs
  data_flow:
    input: docs/code exports
    processing: chunk → embed → index
    output: search APIs

conventions:
  branching: "main, feature/*"
  commit_prefix: "semantah"
  ci_platform: github_actions

documentation:
  adr: docs/adr/
  runbook: docs/runbook.md

ai_guidance:
  do:
    - store embeddings deterministically for reproducible tests
  dont:
    - mix model versions within the same index without tagging
